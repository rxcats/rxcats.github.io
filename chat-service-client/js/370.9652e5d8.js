"use strict";(self["webpackChunkchat_service_client"]=self["webpackChunkchat_service_client"]||[]).push([[370],{7108:(e,o,t)=>{t.d(o,{QA:()=>l,L_:()=>s,FJ:()=>a});var n=t(8202);const s={lobby:"로비",room:"방"},a={notConnected:{message:"서버와 연결 중입니다. 다시 시도해 주세요.",spinner:!0,position:"top",timeout:300},lostConnection:{message:"서버와 연결이 종료되었습니다. 로그인 화면으로 이동합니다.",spinner:!0,position:"top",timeout:300},lostLoginInfo:{message:"로그인 정보가 없습니다. 로그인 화면으로 이동합니다.",spinner:!0,position:"top",timeout:300}};function r(e){return n.ou.fromISO(e).toFormat("HH:mm")}class i{joinMessage(e,o,t){return{color:"#000000",message:`${e.username}님이 ${t}에 참여했습니다.`,now:r(o)}}leaveMessage(e,o,t){return{color:"#000000",message:`${e.username}님이 ${t}에서 나갔습니다.`,now:r(o)}}chatMessage(e,o,t){return{color:e.userColor,message:`${e.username}: ${o}`,now:r(t)}}disconnected(e,o){return{color:"#000000",message:`${e.username}님의 연결이 종료되었습니다.`,now:r(o)}}}const l=new i},2370:(e,o,t)=>{t.r(o),t.d(o,{default:()=>S});var n=t(3673),s=t(8880);const a=e=>((0,n.dD)("data-v-3b475e52"),e=e(),(0,n.Cn)(),e),r={class:"q-pa-md"},i={class:"row justify-center"},l={class:"login-width"},u=a((()=>(0,n._)("div",{class:"text-h6 col text-center"},"Chat Service",-1)));function c(e,o,t,a,c,d){const m=(0,n.up)("q-card-section"),h=(0,n.up)("q-separator"),p=(0,n.up)("q-input"),f=(0,n.up)("q-btn"),g=(0,n.up)("q-card-actions"),b=(0,n.up)("q-card"),w=(0,n.up)("q-form");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",i,[(0,n._)("div",l,[(0,n.Wm)(w,{ref:"loginForm",onSubmit:e.onLogin,onReset:e.onLoginReset},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"bg-primary text-white"},{default:(0,n.w5)((()=>[u])),_:1}),(0,n.Wm)(h),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{clearable:"",filled:"",outlined:"",modelValue:e.username,"onUpdate:modelValue":o[0]||(o[0]=o=>e.username=o),label:"이름","lazy-rules":"",rules:[e=>e&&e.length>0||"필수입력"],"model-value":"",autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},null,8,["modelValue","rules"])])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{type:"color","onUpdate:modelValue":o[1]||(o[1]=o=>e.userColor=o),disabled:""},null,512),[[s.nr,e.userColor]])])),_:1}),(0,n.Wm)(g,{align:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{type:"submit",color:"primary",label:"로그인",icon:"login",class:"full-width"})])),_:1})])),_:1})])),_:1},8,["onSubmit","onReset"])])])])}var d=t(7108);const m=["#e21400","#91580f","#f8a700","#f78b00","#58dc00","#287b00","#a8f07a","#4ae8c4","#3b88eb","#3824aa","#a700ff","#d300e7"],h=m[Math.floor(Math.random()*m.length)],p=(0,n.aZ)({name:"Login",data(){return{username:"",userColor:h}},mounted(){this.$eventBus.on("onLoginSucceeded",this.onLoginSucceeded)},methods:{onLoginSucceeded(e){this.$ws.setAttribute("user",e.data)},onLogin(){if(!this.$ws.isConnected())return this.$q.notify(d.FJ.notConnected),void this.$ws.reconnect();this.$ws.send({uri:"/auth/login",body:{userId:this.username,username:this.username,userColor:this.userColor}}),this.$router.push({path:"/lobby"}),setTimeout(this.lazyLobbyJoin,500),this.$q.loading.show()},onLoginReset(){this.username="",this.userColor=h},lazyLobbyJoin(){this.$ws.send({uri:"/lobby/join",body:{}}),this.onLoginReset(),this.$q.loading.hide()}}});var f=t(4260),g=t(8689),b=t(151),w=t(5589),C=t(5869),v=t(6805),y=t(9367),$=t(8240),_=t(7518),L=t.n(_);const q=(0,f.Z)(p,[["render",c],["__scopeId","data-v-3b475e52"]]),S=q;L()(p,"components",{QForm:g.Z,QCard:b.Z,QCardSection:w.Z,QSeparator:C.Z,QInput:v.Z,QCardActions:y.Z,QBtn:$.Z})}}]);